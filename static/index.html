<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    function send() {
        var api_url = "http://127.0.0.1:5000/api/pop";

        var data_sub = {
            num: 1,
        }
        
        // jQuery AJAX
        // An Asynchronous HTTP request
        // AJAX 
        $.ajax({
            type: 'POST',
            url: api_url,
            data: JSON.stringify(data_sub),
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            success: function (response, status, jqXHR) {
                console.log(response); // response in json format
                // get each element to show on <p> tag
                document.getElementById('lbl_result').innerHTML = response['data'] + '---' + response['status']
            },
            // statusCode: {
            //     200: function () {
            //         alert("page not found");
            //     }
            // }

            // complete: function (results, status) {
            //     // uhm, maybe I don't even need this?
            //     // var ret = JSON.parse(results);
            //     console.log(results);
            // },
        })
    }
</script>

<body>
    <button id='send' onclick=send()>Send</button>
    <p id='lbl_result'>Nothing to show</p>
</body>

</html>